const _0x4f0611=(function(){let _0xc5b78b=!![];return function(_0x24364f,_0xcd7f53){const _0x463de3=_0xc5b78b?function(){if(_0xcd7f53){const _0x5d7223=_0xcd7f53['apply'](_0x24364f,arguments);return _0xcd7f53=null,_0x5d7223;}}:function(){};return _0xc5b78b=![],_0x463de3;};}()),_0x190ae9=_0x4f0611(this,function(){return _0x190ae9['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x190ae9)['search']('(((.+)+)+)+$');});_0x190ae9();const Discord=require('discord.js'),express=require('express'),fs=require('fs'),yaml=require('js-yaml'),config=yaml['load'](fs['readFileSync']('./config.yml','utf8')),bodyParser=require('body-parser'),app=express(),productModel=require('./models/productModel'),licenseModel=require('./models/licenseModel'),utils=require('./utils.js'),statisticsModel=require('./models/statisticsModel'),client=require('./index.js'),color=require('ansi-colors'),botVersion=require('./package.json'),rateLimit=require('express-rate-limit');let webhook;if(config['WebhookLogsSettings']['Enabled']&&config['WebhookLogsSettings']['AuthenticationWebhookURL'])webhook=new Discord['WebhookClient']({'url':config['WebhookLogsSettings']['AuthenticationWebhookURL']});const RESPONSE_MESSAGES={'INVALID_API_KEY':{'status_msg':'INVALID_API_KEY','status_overview':'failed','status_code':0x190},'MAX_IPCAP':{'status_msg':'MAX_IPCAP','status_overview':'failed','status_code':0x191},'MAX_HWID_CAP':{'status_msg':'MAX_HWID_CAP','status_overview':'failed','status_code':0x191},'INVALID_LICENSEKEY':{'status_msg':'INVALID_LICENSEKEY','status_overview':'failed','status_code':0x191},'INVALID_PRODUCT':{'status_msg':'INVALID_PRODUCT','status_overview':'failed','status_code':0x191},'PRODUCT_NOT_FOUND':{'status_msg':'PRODUCT_NOT_FOUND','status_overview':'failed','status_code':0x191},'INVALID_REQUEST':{'status_msg':'INVALID_REQUEST','status_overview':'failed','status_code':0x190},'RATE_LIMIT_EXCEEDED':{'status_msg':'INVALID_REQUEST','status_overview':'failed','status_code':0x190}};app['use'](bodyParser['urlencoded']({'extended':!![]})),app['use'](bodyParser['json']()),app['get']('*',async(_0x127d3b,_0x257567)=>{_0x257567['set']('Access-Control-Allow-Origin','*'),_0x257567['send']('');}),app['listen'](config['WebServerSettings']['Port']||0xbb8,()=>{console['log'](color['yellow']('[SERVER]\x20')+('Server\x20has\x20started\x20on\x20port\x20'+config['WebServerSettings']['Port']+'.'));});const limiter=rateLimit({'windowMs':config['RatelimitSettings']['Time']*0x3c*0x3e8,'max':config['RatelimitSettings']['MaxRequests'],'keyGenerator':_0x29a1bd=>(_0x29a1bd['header']('x-forwarded-for')||_0x29a1bd['socket']['remoteAddress'])['replace']('::ffff:',''),'handler':(_0x2c638e,_0x5be0a1,_0x30ba6d)=>{_0x5be0a1['send'](RESPONSE_MESSAGES['RATE_LIMIT_EXCEEDED']);}});if(config['RatelimitSettings']['Enabled'])app['use']('/api/client/',limiter);app['post']('/api/client/',async(_0x218f40,_0x2b57b6)=>{const _0xba98ae=_0x218f40['body'],_0x1f198e=(_0x218f40['header']('x-forwarded-for')||_0x218f40['socket']['remoteAddress'])['replace']('::ffff:',''),_0x16d819=_0x218f40['headers']['authorization'];if(_0xba98ae['licensekey']&&_0xba98ae['product']&&_0x16d819){if(_0x16d819!==config['WebServerSettings']['ApiKey'])return _0x2b57b6['send'](RESPONSE_MESSAGES['INVALID_API_KEY']);else{const _0x5d6813=await productModel['findOne']({'name':_0xba98ae['product']}),_0x322715=await licenseModel['findOne']({'licenseKey':_0xba98ae['licensekey']});if(!_0x322715){let _0x11f55b=new Discord['EmbedBuilder']();_0x11f55b['setAuthor']({'name':'üî¥\x20Invalid\x20License\x20Key'}),_0x11f55b['setColor']('DarkRed'),_0x11f55b['addFields']({'name':'‚Ä¢\x20Information:','value':'>\x20License\x20Key:\x20``'+_0xba98ae['licensekey']+'``\x0a>\x20Product:\x20``'+_0xba98ae['product']+'``\x0a>\x20IP-Address:\x20``'+_0x1f198e+'``'}),_0x11f55b['setTimestamp']();if(webhook)await webhook['send']({'embeds':[_0x11f55b]});return _0x2b57b6['send'](RESPONSE_MESSAGES['INVALID_LICENSEKEY']);}if(_0x5d6813&&_0x322715['productName']!==_0xba98ae['product'])return await _0x2b57b6['send'](RESPONSE_MESSAGES['INVALID_PRODUCT']);const _0x4c2579=_0x322715['ipList']['map']((_0x3dd062,_0x8189f6)=>_0x8189f6+0x1+':\x20'+_0x3dd062['ip']);_0x4c2579['length']===0x0&&_0x4c2579['push']('1.\x20None');const _0x35ce0e=_0x322715['hwidList']['map']((_0x20113b,_0x294625)=>_0x294625+0x1+'.\x20'+_0x20113b['hwid']['substring'](0x0,0x28)+(_0x20113b['hwid']['length']>0x28?'...':''));_0x35ce0e['length']===0x0&&_0x35ce0e['push']('1.\x20None');if(config['LicenseSettings']['IPCap']!==0x0&&_0x322715['ipList']['length']>config['LicenseSettings']['IPCap']-0x1){if(!_0x322715['latestIP'])_0x322715['latestIP']='Unknown';if(!_0x322715['latestHWID'])_0x322715['latestHWID']='Unknown';if(!_0x322715['totalRequests'])_0x322715['totalRequests']=0x0;if(!_0x322715['builtbybitUserID'])_0x322715['builtbybitUserID']='Unknown';let _0x198409=client['users']['cache']['get'](_0x322715['discordUserID']),_0x1c0b25,_0x20bd5d;if(!_0x198409)_0x1c0b25='‚ö†Ô∏è\x20Unknown';if(!_0x198409)_0x20bd5d='Unknown';if(_0x198409)_0x1c0b25='<@!'+_0x198409['id']+'>';if(_0x198409)_0x20bd5d=''+_0x198409['username'];let _0x2e02fd=new Discord['EmbedBuilder']();_0x2e02fd['setAuthor']({'name':'üî¥\x20IP\x20Cap\x20Reached!\x20('+_0x322715['ipList']['length']+'/'+config['LicenseSettings']['IPCap']+')'}),_0x2e02fd['setColor']('DarkRed'),_0x2e02fd['addFields']({'name':'‚Ä¢\x20License\x20Information:','value':'>\x20License\x20Key:\x20``'+_0x322715['licenseKey']+'``\x0a>\x20Product:\x20``'+_0x322715['productName']+'``\x0a>\x20Total\x20Requests:\x20``'+_0x322715['totalRequests']+'``\x0a>\x20Latest\x20IP:\x20``'+_0x322715['latestIP']+'``\x0a>\x20Latest\x20HWID:\x20``'+_0x322715['latestHWID']+'``\x0a>\x20Created\x20at:\x20<t:'+(_0x322715['createdAt']/0x3e8|0x0)+':R>'}),_0x2e02fd['addFields']({'name':'‚Ä¢\x20User\x20Information:','value':'>\x20User:\x20'+_0x1c0b25+'\x20('+_0x20bd5d+')\x0a>\x20User\x20ID:\x20``'+_0x322715['discordUserID']+'``\x0a>\x20[BuiltByBit\x20User\x20ID:](https://builtbybit.com/members/swqpping.'+_0x322715['builtbybitUserID']+'/)\x20``'+_0x322715['builtbybitUserID']+'``'}),_0x2e02fd['addFields']({'name':'‚Ä¢\x20IP\x20List:','value':'```yaml\x0a'+_0x4c2579['join']('\x0a')+'```'}),_0x2e02fd['setTimestamp']();if(webhook)await webhook['send']({'embeds':[_0x2e02fd]});return _0x2b57b6['send'](RESPONSE_MESSAGES['MAX_IPCAP']);}const _0x1d366c=_0x322715['ipList']['some'](_0x2055a6=>_0x2055a6['ip']===_0x1f198e);!_0x1d366c&&_0x322715['ipList']['push']({'ip':_0x1f198e,'createdAt':new Date()});_0x322715['latestIP']!==_0x1f198e&&(_0x322715['latestIP']=_0x1f198e);if(_0xba98ae['hwid']){if(config['LicenseSettings']['HWIDCap']!==0x0){if(_0x322715['hwidList']['length']>config['LicenseSettings']['HWIDCap']-0x1){try{if(webhook){if(!_0x322715['latestIP'])_0x322715['latestIP']='Unknown';if(!_0x322715['latestHWID'])_0x322715['latestHWID']='Unknown';if(!_0x322715['totalRequests'])_0x322715['totalRequests']=0x0;if(!_0x322715['builtbybitUserID'])_0x322715['builtbybitUserID']='Unknown';let _0x4f21e6=client['users']['cache']['get'](_0x322715['discordUserID']),_0x2e41e8,_0x495221;if(!_0x4f21e6)_0x2e41e8='‚ö†Ô∏è\x20Unknown';if(!_0x4f21e6)_0x495221='Unknown';if(_0x4f21e6)_0x2e41e8='<@!'+_0x4f21e6['id']+'>';if(_0x4f21e6)_0x495221=''+_0x4f21e6['username'];let _0x2eba46=new Discord['EmbedBuilder']();_0x2eba46['setAuthor']({'name':'üî¥\x20HWID\x20Cap\x20Reached!\x20('+_0x322715['hwidList']['length']+'/'+config['LicenseSettings']['HWIDCap']+')'}),_0x2eba46['setColor']('DarkRed'),_0x2eba46['addFields']({'name':'‚Ä¢\x20License\x20Information:','value':'>\x20License\x20Key:\x20``'+_0x322715['licenseKey']+'``\x0a>\x20Product:\x20``'+_0x322715['productName']+'``\x0a>\x20Total\x20Requests:\x20``'+_0x322715['totalRequests']+'``\x0a>\x20Latest\x20IP:\x20``'+_0x322715['latestIP']+'``\x0a>\x20Latest\x20HWID:\x20``'+_0x322715['latestHWID']+'``\x0a>\x20Created\x20at:\x20<t:'+(_0x322715['createdAt']/0x3e8|0x0)+':R>'}),_0x2eba46['addFields']({'name':'‚Ä¢\x20User\x20Information:','value':'>\x20User:\x20'+_0x2e41e8+'\x20('+_0x495221+')\x0a>\x20User\x20ID:\x20``'+_0x322715['discordUserID']+'``\x0a>\x20[BuiltByBit\x20User\x20ID:](https://builtbybit.com/members/swqpping.'+_0x322715['builtbybitUserID']+'/)\x20``'+_0x322715['builtbybitUserID']+'``'}),_0x2eba46['addFields']({'name':'‚Ä¢\x20HWID\x20List:','value':'```yaml\x0a'+_0x35ce0e['join']('\x0a')+'```'}),_0x2eba46['setTimestamp'](),await webhook['send']({'embeds':[_0x2eba46]});}}catch(_0x534684){let _0x2896cb='\x0a\x0a['+new Date()['toLocaleString']()+']\x20[ERROR]\x20[v'+botVersion['version']+']\x0a'+_0x534684['stack'];fs['appendFile']('./logs.txt',_0x2896cb,_0x499264=>{if(_0x499264)console['log'](_0x499264);}),console['error'](_0x534684);}return _0x2b57b6['send'](RESPONSE_MESSAGES['MAX_HWID_CAP']);}}const _0x3594c5=_0x322715['hwidList']['some'](_0x324d05=>_0x324d05['hwid']===_0xba98ae['hwid']);!_0x3594c5&&_0x322715['hwidList']['push']({'hwid':_0xba98ae['hwid'],'createdAt':new Date()}),_0x322715['latestHWID']!==_0xba98ae['hwid']&&(_0x322715['latestHWID']=_0xba98ae['hwid']);}const _0x78d85d=await statisticsModel['findOne']({'name':'Statistics'});_0x78d85d['totalRequests']++,_0x322715['totalRequests']++,await _0x78d85d['save'](),await _0x322715['save']();try{if(webhook){if(!_0x322715['latestIP'])_0x322715['latestIP']='Unknown';if(!_0x322715['latestHWID'])_0x322715['latestHWID']='Unknown';if(!_0x322715['totalRequests'])_0x322715['totalRequests']=0x0;if(!_0x322715['builtbybitUserID'])_0x322715['builtbybitUserID']='Unknown';let _0x57f94f=client['users']['cache']['get'](_0x322715['discordUserID']),_0x255e36,_0x2a0cab;if(!_0x57f94f)_0x255e36='‚ö†Ô∏è\x20Unknown';if(!_0x57f94f)_0x2a0cab='Unknown';if(_0x57f94f)_0x255e36='<@!'+_0x57f94f['id']+'>';if(_0x57f94f)_0x2a0cab=''+_0x57f94f['username'];let _0x481dfc=new Discord['EmbedBuilder']();_0x481dfc['setAuthor']({'name':'üü¢\x20Successful\x20Authentication'}),_0x481dfc['setColor']('Green'),_0x481dfc['addFields']({'name':'‚Ä¢\x20License\x20Information:','value':'>\x20License\x20Key:\x20``'+_0x322715['licenseKey']+'``\x0a>\x20Product:\x20``'+_0x322715['productName']+'``\x0a>\x20Total\x20Requests:\x20``'+_0x322715['totalRequests']+'``\x0a>\x20Latest\x20IP:\x20``'+_0x322715['latestIP']+'``\x0a>\x20Latest\x20HWID:\x20``'+_0x322715['latestHWID']+'``\x0a>\x20Created\x20at:\x20<t:'+(_0x322715['createdAt']/0x3e8|0x0)+':R>'}),_0x481dfc['addFields']({'name':'‚Ä¢\x20User\x20Information:','value':'>\x20User:\x20'+_0x255e36+'\x20('+_0x2a0cab+')\x0a>\x20User\x20ID:\x20``'+_0x322715['discordUserID']+'``\x0a>\x20[BuiltByBit\x20User\x20ID:](https://builtbybit.com/members/swqpping.'+_0x322715['builtbybitUserID']+'/)\x20``'+_0x322715['builtbybitUserID']+'``'}),_0x481dfc['setTimestamp'](),webhook['send']({'embeds':[_0x481dfc]});}}catch(_0x4f5d6b){let _0x43219e='\x0a\x0a['+new Date()['toLocaleString']()+']\x20[ERROR]\x20[v'+botVersion['version']+']\x0a'+_0x4f5d6b['stack'];fs['appendFile']('./logs.txt',_0x43219e,_0x1a9cfe=>{if(_0x1a9cfe)console['log'](_0x1a9cfe);}),console['error'](_0x4f5d6b);}return _0x2b57b6['send']({'status_msg':'SUCCESSFUL_AUTHENTICATION','status_overview':'success','status_code':0xc8,'status_id':'SUCCESS','discord_id':_0x322715['discordUserID']});}}});